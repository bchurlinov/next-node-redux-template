{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { authenticate } from \"../redux/authActions\";\nimport Layout from \"../components/Layout\";\nimport Router from \"next/router\";\n\nvar SignIn = function SignIn(_ref) {\n  var authenticate = _ref.authenticate,\n      token = _ref.token;\n\n  var _useState = useState({\n    email: \"bojan@hotmail.com\",\n    password: \"sauron1985\"\n  }),\n      inputs = _useState[0],\n      setInputs = _useState[1];\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    authenticate({\n      email: \"bojan@gmail.com\",\n      password: \"sauron1985\"\n    });\n  };\n\n  var redirectToLogin = function redirectToLogin(res) {\n    if (res) {\n      res.writeHead(302, {\n        Location: '/login'\n      });\n      res.end();\n      res.finished = true;\n    } else {\n      Router.push('/login');\n    }\n  };\n\n  return __jsx(Layout, {\n    title: \"Sign In\"\n  }, __jsx(\"h3\", null, \"Sign In\"), __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", null, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    required: true,\n    value: inputs.email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    }\n  })), __jsx(\"div\", null, __jsx(\"input\", {\n    className: \"input\",\n    type: \"password\",\n    placeholder: \"Password\",\n    required: true,\n    value: inputs.password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    }\n  })), __jsx(\"div\", null, __jsx(\"button\", {\n    type: \"submit\"\n  }, \"Sign In\"))));\n};\n\nSignIn.getInitialProps = function (ctx) {\n  console.log(ctx.req);\n\n  if (ctx.req && ctx.req.cookies.token) {\n    ctx.res.redirect(\"/\");\n  }\n};\n\nexport default connect(function (state) {\n  return state;\n}, {\n  authenticate: authenticate\n})(SignIn);","map":{"version":3,"sources":["E:/pratice-projects/next-js-redux/pages/signin.js"],"names":["React","useState","useEffect","connect","authenticate","Layout","Router","SignIn","token","email","password","inputs","setInputs","handleSubmit","event","preventDefault","redirectToLogin","res","writeHead","Location","end","finished","push","e","setEmail","target","value","setPassword","getInitialProps","ctx","console","log","req","cookies","redirect","state"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,YAAR,QAA2B,sBAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAA2B;AAAA,MAAzBH,YAAyB,QAAzBA,YAAyB;AAAA,MAAXI,KAAW,QAAXA,KAAW;;AAAA,kBACVP,QAAQ,CAAC;AAACQ,IAAAA,KAAK,EAAE,mBAAR;AAA6BC,IAAAA,QAAQ,EAAE;AAAvC,GAAD,CADE;AAAA,MAC/BC,MAD+B;AAAA,MACvBC,SADuB;;AAGtC,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACAX,IAAAA,YAAY,CAAC;AAACK,MAAAA,KAAK,EAAE,iBAAR;AAA2BC,MAAAA,QAAQ,EAAE;AAArC,KAAD,CAAZ;AACH,GAHD;;AAKA,MAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,GAAG,EAAI;AAC3B,QAAIA,GAAJ,EAAS;AACLA,MAAAA,GAAG,CAACC,SAAJ,CAAc,GAAd,EAAmB;AAACC,QAAAA,QAAQ,EAAE;AAAX,OAAnB;AACAF,MAAAA,GAAG,CAACG,GAAJ;AACAH,MAAAA,GAAG,CAACI,QAAJ,GAAe,IAAf;AACH,KAJD,MAIO;AACHf,MAAAA,MAAM,CAACgB,IAAP,CAAY,QAAZ;AACH;AACJ,GARD;;AAWA,SACI,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC;AAAd,KACI,4BADJ,EAEI;AAAM,IAAA,QAAQ,EAAET;AAAhB,KACI,mBACI;AACI,IAAA,IAAI,EAAC,OADT;AAEI,IAAA,WAAW,EAAC,OAFhB;AAGI,IAAA,QAAQ,MAHZ;AAII,IAAA,KAAK,EAAEF,MAAM,CAACF,KAJlB;AAKI,IAAA,QAAQ,EAAE,kBAAAc,CAAC;AAAA,aAAIC,QAAQ,CAACD,CAAC,CAACE,MAAF,CAASC,KAAV,CAAZ;AAAA;AALf,IADJ,CADJ,EAUI,mBACI;AACI,IAAA,SAAS,EAAC,OADd;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,WAAW,EAAC,UAHhB;AAII,IAAA,QAAQ,MAJZ;AAKI,IAAA,KAAK,EAAEf,MAAM,CAACD,QALlB;AAMI,IAAA,QAAQ,EAAE,kBAAAa,CAAC;AAAA,aAAII,WAAW,CAACJ,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf;AAAA;AANf,IADJ,CAVJ,EAoBI,mBACI;AAAQ,IAAA,IAAI,EAAC;AAAb,eADJ,CApBJ,CAFJ,CADJ;AA6BH,CAhDD;;AAkDAnB,MAAM,CAACqB,eAAP,GAAyB,UAAAC,GAAG,EAAI;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,GAAhB;;AACA,MAAGH,GAAG,CAACG,GAAJ,IAAWH,GAAG,CAACG,GAAJ,CAAQC,OAAR,CAAgBzB,KAA9B,EAAoC;AAChCqB,IAAAA,GAAG,CAACZ,GAAJ,CAAQiB,QAAR,CAAiB,GAAjB;AACH;AACJ,CALD;;AAQA,eAAe/B,OAAO,CAAC,UAAAgC,KAAK;AAAA,SAAIA,KAAJ;AAAA,CAAN,EAAiB;AAAC/B,EAAAA,YAAY,EAAZA;AAAD,CAAjB,CAAP,CAAwCG,MAAxC,CAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {authenticate} from \"../redux/authActions\";\r\nimport Layout from \"../components/Layout\";\r\nimport Router from \"next/router\";\r\n\r\nconst SignIn = ({authenticate, token}) => {\r\n    const [inputs, setInputs] = useState({email: \"bojan@hotmail.com\", password: \"sauron1985\"});\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        authenticate({email: \"bojan@gmail.com\", password: \"sauron1985\"});\r\n    }\r\n\r\n    const redirectToLogin = res => {\r\n        if (res) {\r\n            res.writeHead(302, {Location: '/login'})\r\n            res.end()\r\n            res.finished = true\r\n        } else {\r\n            Router.push('/login')\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <Layout title=\"Sign In\">\r\n            <h3>Sign In</h3>\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        required\r\n                        value={inputs.email}\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        value={inputs.password}\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">Sign In</button>\r\n                </div>\r\n            </form>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nSignIn.getInitialProps = ctx => {\r\n    console.log(ctx.req);\r\n    if(ctx.req && ctx.req.cookies.token){\r\n        ctx.res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\nexport default connect(state => state, {authenticate})(SignIn);"]},"metadata":{},"sourceType":"module"}